{"ast":null,"code":"import _objectSpread from \"C:\\\\Users\\\\MiniTower\\\\Documents\\\\Workspace\\\\TODOList+Score\\\\frontend\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/objectSpread\";\nvar _jsxFileName = \"C:\\\\Users\\\\MiniTower\\\\Documents\\\\Workspace\\\\TODOList+Score\\\\frontend\\\\src\\\\components\\\\TaskListWidget\\\\TaskListContainer.tsx\";\nimport * as React from 'react';\nimport { connect } from 'react-redux';\nimport TaskListComponent from './components/TaskListComponent';\nimport { setTasks, editTask, findAllTasks } from './TaskListLogic';\nimport uuid from 'uuid';\nimport moment from 'moment';\n\nclass TaskListContainer extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.handleSubmitCreation = text => {\n      const task = {\n        id: uuid(),\n        done: false,\n        creationDateAndTime: moment().toString(),\n        creationTimestamp: moment().utc.toString(),\n        desc: text\n      };\n      editTask(task);\n    };\n\n    this.handleSubmitEdition = (id, text) => {\n      const oldTask = this.props.taskList.find(e => e.id === id);\n\n      if (!oldTask) {\n        return;\n      }\n\n      const newTask = _objectSpread({}, oldTask, {\n        desc: text\n      });\n\n      editTask(newTask);\n    };\n\n    this.handleDone = id => {\n      const oldTask = this.props.taskList.find(e => e.id === id);\n\n      if (!oldTask) {\n        return;\n      }\n\n      const doneTask = _objectSpread({}, oldTask, {\n        done: true\n      });\n\n      editTask(doneTask);\n    };\n\n    this.state = {\n      tasks: []\n    };\n  }\n\n  async componentDidMount() {\n    const tasks = await findAllTasks();\n    this.setState({\n      tasks\n    });\n  }\n\n  render() {\n    alert(this.state.tasks.length);\n    return React.createElement(\"div\", {\n      className: 'task-list-component',\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 87\n      },\n      __self: this\n    }, React.createElement(TaskListComponent, {\n      handlerSubmitCreationClick: this.handleSubmitCreation,\n      handlerSubmitEditClick: this.handleSubmitEdition,\n      handlerDoneClick: this.handleDone,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 88\n      },\n      __self: this\n    }));\n  }\n\n}\n\nfunction mapStateToProps(state) {\n  return {\n    taskList: state.taskList.taskList\n  };\n}\n\nfunction mapDispatchToProps(dispatch) {\n  return {\n    setTasks: value => dispatch(setTasks(value))\n  };\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(TaskListContainer);","map":{"version":3,"sources":["C:\\Users\\MiniTower\\Documents\\Workspace\\TODOList+Score\\frontend\\src\\components\\TaskListWidget\\TaskListContainer.tsx"],"names":["React","connect","TaskListComponent","setTasks","editTask","findAllTasks","uuid","moment","TaskListContainer","Component","constructor","props","handleSubmitCreation","text","task","id","done","creationDateAndTime","toString","creationTimestamp","utc","desc","handleSubmitEdition","oldTask","taskList","find","e","newTask","handleDone","doneTask","state","tasks","componentDidMount","setState","render","alert","length","mapStateToProps","mapDispatchToProps","dispatch","value"],"mappings":"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","sourcesContent":["import * as React from 'react';\r\nimport { connect } from 'react-redux';\r\nimport TaskListComponent from './components/TaskListComponent';\r\nimport { StateType } from '../../types';\r\nimport { Dispatch } from 'redux';\r\nimport { TaskModel } from '../../ApiModels';\r\nimport {\r\n    TaskListActions,\r\n    setTasks,\r\n    editTask,\r\n    findAllTasks\r\n} from './TaskListLogic';\r\nimport uuid from 'uuid';\r\nimport moment from 'moment';\r\n\r\ninterface StateToProps {\r\n    taskList: TaskModel[];\r\n}\r\n\r\ninterface DispatchProps {\r\n    setTasks(value: TaskModel[]): void;\r\n}\r\n\r\ninterface State {\r\n    tasks: TaskModel[];\r\n}\r\n\r\ntype Props = StateToProps & DispatchProps;\r\n\r\nclass TaskListContainer extends React.Component<Props, State> {\r\n\r\n    constructor(props: Props) {\r\n        super(props);\r\n\r\n        this.state = {\r\n            tasks: []\r\n        }\r\n    }\r\n\r\n    handleSubmitCreation = (text: string) => {\r\n        const task: TaskModel = {\r\n            id: uuid(),\r\n            done: false,\r\n            creationDateAndTime: moment().toString(),\r\n            creationTimestamp: moment().utc.toString(),\r\n            desc: text\r\n        }\r\n        editTask(task);\r\n    }\r\n\r\n    handleSubmitEdition = (id: string, text: string) => {\r\n        const oldTask = this.props.taskList.find(e => e.id === id);\r\n\r\n        if (!oldTask) {\r\n            return;\r\n        }\r\n\r\n        const newTask: TaskModel = {\r\n            ...oldTask,\r\n            desc: text\r\n        }\r\n        editTask(newTask);\r\n    }\r\n\r\n    handleDone = (id: string) => {\r\n        const oldTask = this.props.taskList.find(e => e.id === id);\r\n\r\n        if (!oldTask) {\r\n            return;\r\n        }\r\n\r\n        const doneTask: TaskModel = {\r\n            ...oldTask,\r\n            done: true\r\n        }\r\n        editTask(doneTask);\r\n    }\r\n\r\n    async componentDidMount() {\r\n        const tasks = await findAllTasks();\r\n        this.setState({ tasks });\r\n    }\r\n\r\n    render() {\r\n        alert(this.state.tasks.length);\r\n        return (\r\n            <div className={'task-list-component'}>\r\n                <TaskListComponent\r\n                    handlerSubmitCreationClick={this.handleSubmitCreation}\r\n                    handlerSubmitEditClick={this.handleSubmitEdition}\r\n                    handlerDoneClick={this.handleDone}\r\n                />\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nfunction mapStateToProps(state: StateType) {\r\n    return {\r\n        taskList: state.taskList.taskList\r\n    }\r\n}\r\n\r\nfunction mapDispatchToProps(dispatch: Dispatch<TaskListActions>): DispatchProps {\r\n    return {\r\n        setTasks: (value: TaskModel[]) => dispatch(setTasks(value))\r\n    }\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(TaskListContainer);"]},"metadata":{},"sourceType":"module"}